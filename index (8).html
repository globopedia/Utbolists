<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>T√©cnicos ‚Äî Hurac√°n</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=MuseoModerno:wght@500&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'MuseoModerno', arial-black; background:#fff; color:#222; margin:20px; }
    h1 { color:#FF0000; text-align:center; }
    .logo { display:block; margin:0 auto 10px; width:100px; }
    select { padding:8px; border-radius:8px; border:2px solid #FF0000; font-size:16px; margin-bottom:20px; }
    .club-card { border:3px solid #FF0000; border-radius:20px; padding:20px; max-width:900px; margin:0 auto; background:#fff; box-shadow:0 4px 12px rgba(0,0,0,.1); }
    .club-header { display:flex; align-items:center; gap:15px; border-bottom:2px solid #FF0000; padding-bottom:10px; margin-bottom:10px; }
    h2 { margin:0; color:#FF0000; font-size:22px; }
    .stats { margin-top:20px; }
    .stat-group { margin-bottom:20px; padding:12px; border:1px solid #FF0000; border-radius:12px; background:#fff5f5; }
    .stat-title { font-weight:bold; color:#FF0000; margin-bottom:6px; }
    .hr { border:none; border-top:1px solid #FF0000; margin:8px 0; }
    .partido-card { border:1px solid #ccc; border-radius:6px; padding:6px; margin:4px 0; background:#fafafa; font-size:14px; text-align: center; }
    .acordeon { border: 1px solid #ddd; border-radius: 6px; margin: 6px 0; background: #fefefe; }
    .acordeon-header { background: #eee; padding: 4px 8px; cursor: pointer; font-size: 14px; text-align: right; position: relative; padding-right: 20px; }
    .acordeon-header::after { content: "‚ñæ"; position: absolute; right: 0; transition: transform 0.3s; }
    .acordeon-header.abierto::after { transform: rotate(180deg); }
    .acordeon-body { max-height: 1000px; overflow: hidden; transition: max-height 0.3s ease; padding: 8px; }
    .acordeon-body.cerrado { max-height: 0; padding: 0 8px; }
    .resultado1-box, .resultado2-box {
      display: inline-block; width: 16px; height: 28px; font-size: 32px; font-weight: bold;
      line-height: 28px; text-align: center; margin: 2px; padding: 10px 10px;
      border: 3px solid #FF0000; border-radius: 6px; background: #fff5f5;
      vertical-align: middle; min-width: 26px;
    }
    .escudo-huracan, .escudo-rival { width: 50px; height: 50px; object-fit: contain; position: relative; top: 6px; vertical-align: middle; }
    .resultado-con-escudo { display: flex; align-items: center; gap: 6px; flex-wrap: wrap; justify-content:center; }
    .stat-title small { color:#666; font-weight:normal; margin-left:6px; }
  </style>
</head>
<body>
  <img src="https://globopedia.github.io/Artids/logo_globopedia.png" alt="Logo Hurac√°n" class="logo" />
  <h1>üìú T√©cnicos</h1>

  <div style="text-align:center;">
    <label>Seleccion√° t√©cnico: </label>
    <select id="tecnicoSelect"></select>
  </div>

  <div id="tecnicoInfo" class="club-card" style="display:none;"></div>

  <script>
    const tecnicosURL = "https://globopedia.github.io/Ecnics/Ecnics.csv?v=" + Date.now();
    const partidosURL = "https://globopedia.github.io/Artids/Encuentros_Huracan.csv?v=" + Date.now();

    let tecnicos = [];
    let encuentros = [];

    const norm = (t) => (t || "").toString().normalize("NFD").replace(/[\u0300-\u036f]/g, "").trim().toLowerCase();
    const cap = (s) => s ? s.charAt(0).toUpperCase() + s.slice(1).toLowerCase() : s;

    const ORDEN_COMPETENCIAS = ["Apertura 2007","Clausura 2008","Apertura 2008","Clausura 2009","Apertura 2009","Clausura 2010","Apertura 2010",
"Clausura 2011","Desempate Descenso 2011","Campeonato B Nacional 2011/12","Copa Argentina 2012",
"Campeonato B Nacional 2012/13","Copa Argentina 2013","Campeonato B Nacional 2013/14","Desempate 3¬∞ Puesto BN 2013/14","Copa Argentina 2014",
"Desempate 3¬∞ Puesto NB 2013/14","Campeonato B Nacional 2014","Desempate 5¬∞ Puesto NB 2014",
"Copa Libertadores 2015","Campeonato 2015","Supercopa 2015","Copa Argentina 2015","Copa Sudamericana 2015",
"Copa Libertadores 2016","Campeonato 2016","Copa Argentina 2016","Campeonato 2016/17","Copa Sudamericana 2017",
"Copa Argentina 2017","Superliga 2017/18","Copa Argentina 2018","Superliga 2018/19","Copa Libertadores 2019",
"Copa Superliga 2019","Copa Argentina 2019","Superliga 2019/20","Copa Sudamericana 2020","Copa Superliga 2020",
"Copa Maradona 2020","Copa-LPF 2021","Copa Argentina 2020","Torneo-LPF 2021","Copa-LPF 2022",
"Copa Argentina 2022","Torneo-LPF 2022","Torneo-LPF 2023","Copa Argentina 2023","Copa Libertadores 2023",
"Copa Sudamericana 2023","Copa-LPF 2023","Copa-LPF 2024","Copa Argentina 2024","Torneo-LPF 2024",
"Apertura-LPF 2025","Copa Argentina 2025","Copa Sudamericana 2025","Clausura-LPF 2025","Amistosos","Otros"];
    const CONDICIONES = ["Local","Neutral","Visitante"];
    const SITUACIONES = ["Victoria","Empate","Derrota"];

    function bucketCompetencia(torneo) {
      const t = norm(torneo || "");
      if (t.includes("apertura 2007")) return "Apertura 2007";
      if (t.includes("clausura 2008")) return "Clausura 2008";
      if (t.includes("apertura 2008")) return "Apertura 2008";
      if (t.includes("clausura 2009")) return "Clausura 2009";
      if (t.includes("apertura 2009")) return "Apertura 2009";
      if (t.includes("clausura 2010")) return "Clausura 2010";
      if (t.includes("apertura 2010")) return "Apertura 2010";
      if (t.includes("clausura 2011")) return "Clausura 2011";
      if (t.includes("campeonato 10-11")) return "Desempate Descenso 2011";
      if (t.includes("nacional b 11-12")) return "Campeonato B Nacional 2011/12";
      if (t.includes("copa argentina 2012")) return "Copa Argentina 2012";
      if (t.includes("nacional b 12-13")) return "Campeonato B Nacional 2012/13";
      if (t.includes("copa argentina 2013")) return "Copa Argentina 2013";
      if (t.includes("nacional b 13-14")) return "Campeonato B Nacional 2013/14";
      if (t.includes("copa argentina 2014")) return "Copa Argentina 2014";
      if (t.includes("nb 13-14")) return "Desempate 3¬∞ Puesto BN 2013/14";
      if (t.includes("nacional b 2014")) return "Campeonato B Nacional 2014";
      if (t.includes("nb 2014")) return "Desempate 5¬∞ Puesto NB 2014";
      if (t.includes("libertadores 2015")) return "Copa Libertadores 2015";
      if (t.includes("campeonato 2015")) return "Campeonato 2015";
      if (t.includes("supercopa 2015")) return "Supercopa 2015";
      if (t.includes("copa argentina 2015")) return "Copa Argentina 2015";
      if (t.includes("sudamericana 2015")) return "Copa Sudamericana 2015";
      if (t.includes("libertadores 2016")) return "Copa Libertadores 2016";
      if (t.includes("campeonato 2016")) return "Campeonato 2016";
      if (t.includes("copa argentina 2016")) return "Copa Argentina 2016";
      if (t.includes("campeonato 16-17")) return "Campeonato 2016/17";
      if (t.includes("sudamericana 2017")) return "Copa Sudamericana 2017";
      if (t.includes("copa argentina 2017")) return "Copa Argentina 2017";
      if (t.includes("saf 17-18")) return "Superliga 2017/18";
      if (t.includes("copa argentina 2018")) return "Copa Argentina 2018";
      if (t.includes("saf 18-19")) return "Superliga 2018/19";
      if (t.includes("libertadores 2019")) return "Copa Libertadores 2019";
      if (t.includes("superliga 2019")) return "Copa Superliga 2019";
      if (t.includes("copa argentina 2019")) return "Copa Argentina 2019";
      if (t.includes("saf 19-20")) return "Superliga 2019/20";
      if (t.includes("sudamericana 2020")) return "Copa Sudamericana 2020";
      if (t.includes("superliga 2020")) return "Copa Superliga 2020";
      if (t.includes("copa maradona 2020")) return "Copa Maradona 2020";
      if (t.includes("copa-lpf 2021")) return "Copa-LPF 2021";
      if (t.includes("copa argentina 2020")) return "Copa Argentina 2020";
      if (t.includes("torneo-lpf 2021")) return "Torneo-LPF 2021";
      if (t.includes("copa-lpf 2022")) return "Copa-LPF 2022";
      if (t.includes("copa argentina 2022")) return "Copa Argentina 2022";
      if (t.includes("torneo-lpf 2022")) return "Torneo-LPF 2022";
      if (t.includes("torneo-lpf 2023")) return "Torneo-LPF 2023";
      if (t.includes("copa argentina 2023")) return "Copa Argentina 2023";
      if (t.includes("libertadores 2023")) return "Copa Libertadores 2023";
      if (t.includes("sudamericana 2023")) return "Copa Sudamericana 2023";
      if (t.includes("copa-lpf 2023")) return "Copa-LPF 2023";
      if (t.includes("copa-lpf 2024")) return "Copa-LPF 2024";
      if (t.includes("copa argentina 2024")) return "Copa Argentina 2024";
      if (t.includes("torneo-lpf 2024")) return "Torneo-LPF 2024";
      if (t.includes("apertura-lpf 2025")) return "Apertura-LPF 2025";
      if (t.includes("copa argentina 2025")) return "Copa Argentina 2025";
      if (t.includes("sudamericana 2025")) return "Copa Sudamericana 2025";
      if (t.includes("clausura-lpf 2025")) return "Clausura-LPF 2025";
      if (t.includes("amistoso")) return "Amistosos";
      return "Otros";
    }

    Promise.all([
      fetch(tecnicosURL).then(r => r.text()),
      fetch(partidosURL).then(r => r.text())
    ])
    .then(([csvEcnics, csvPartidos]) => {
      tecnicos = Papa.parse(csvEcnics, { header:true, skipEmptyLines:true }).data.map(c => ({
        id: (c.ID ?? "").toString().trim(),
        tecnico: (c["T√©cnico"] ?? "").toString().trim(),
        nombre: (c.Nombre ?? "").toString().trim(),
        nacimiento: (c.Nacimiento ?? "").toString().trim(),
        lugarnacimiento: (c.LugarNacimiento?? "").toString().trim(),
        muerte: (c.Muerte ?? "").toString().trim(),
        lugarmuerte: (c.LugarMuerte ?? "").toString().trim(),
        biograf√≠a: (c.Biograf√≠a ?? "").toString().trim(),
        trayectoria: (c.Trayectoria ?? "").toString().trim(),
        foto: (c.Foto ?? "").toString().trim()
      }));

      encuentros = Papa.parse(csvPartidos, { header:true, skipEmptyLines:true }).data.map(p => ({
        Fecha: (p.Fecha ?? "").trim(),
        T√©cnico: (p.T√©cnico ?? "").trim(),
        Condici√≥n: (p.Condici√≥n ?? "").trim(),
        Situaci√≥n: (p.Situaci√≥n ?? "").trim(),
        Resultado1: (p.Resultado1 ?? "").trim(),
        Resultado2: (p.Resultado2 ?? "").trim(),
        Club: (p.Club ?? "").trim(),
        Torneo: (p.Torneo ?? "").trim(),
        Estadio: (p.Estadio ?? "").trim(),
        √Årbitro: (p.√Årbitro ?? "").trim(),
        Hurac√°n: (p.Hurac√°n ?? "").trim(),
        Rival: (p.Rival ?? "").trim(),
        Foto: (p.Foto ?? "").trim(),
        Incidencias: (p.Incidencias ?? "").trim()
      }));

      llenarSelectTecnicos();
    });

    function llenarSelectTecnicos() {
      const sel = document.getElementById("tecnicoSelect");
      sel.innerHTML = "<option value=''>-- Seleccionar --</option>";
      tecnicos.forEach(a => {
        if (a.tecnico) {
          const opt = document.createElement("option");
          opt.value = a.tecnico;
          opt.textContent = InvertirNombre(a.tecnico);
          sel.appendChild(opt);
        }
      });
      sel.addEventListener("change", mostrarTecnico);
    }

    function mostrarTecnico() {
      const tecnicoId = document.getElementById("tecnicoSelect").value;
      const tecnico = tecnicos.find(a => a.tecnico === tecnicoId);
      if (!tecnico) {
        document.getElementById("tecnicoInfo").style.display = "none";
        return;
      }

      const cont = document.getElementById("tecnicoInfo");
      cont.style.display = "block";
      cont.innerHTML = `
        <div class="club-header">
          ${tecnico.foto ? `<img src="${tecnico.foto}" alt="${tecnico.tecnico}" style="width:105px;height:140px;object-fit:cover;border-radius:8px;">` : ""}
          <h2>${tecnico.tecnico}</h2>
        </div>
        <p><b>Nombre completo:</b> ${tecnico.nombre}</p>
        <p><b>Nacimiento:</b> ${tecnico.nacimiento}, en ${tecnico.lugarnacimiento}</p>
        <p><b>Muerte:</b> ${tecnico.muerte}, en ${tecnico.lugarmuerte}</p>
        <p><b>Biograf√≠a:</b> ${tecnico.biograf√≠a}</p>
        <p><b>Trayectoria:</b> ${tecnico.trayectoria}</p>
        <div class="stats">
          <h3 style="color:#FF0000;">üìä Partidos dirigidos en Hurac√°n</h3>
          ${renderEstadisticas(tecnico.tecnico)}
        </div>
      `;
    }

    function renderEstadisticas(nombreTecnico) {
      const delTecnico = encuentros.filter(p => norm(p.T√©cnico) === norm(nombreTecnico));
      const agg = {};
      for (const e of delTecnico) {
        const comp = bucketCompetencia(e.Torneo);
        const cond = cap(norm(e.Condici√≥n));
        const sit = cap(norm(e.Situaci√≥n));
        if (!agg[comp]) agg[comp] = {};
        if (!agg[comp][cond]) agg[comp][cond] = { Victoria:0, Empate:0, Derrota:0 };
        if (SITUACIONES.includes(sit)) {
          agg[comp][cond][sit] += 1;
        }
      }
      let html = "";
      for (const comp of ORDEN_COMPETENCIAS) {
        if (!agg[comp]) continue;
        let compHTML = "";
        CONDICIONES.forEach((cond, idx) => {
          const bucket = agg[comp][cond] || { Victoria:0, Empate:0, Derrota:0 };
          const tot = bucket.Victoria + bucket.Empate + bucket.Derrota;
          if (tot === 0) return;
          let bloque = `<div class="stat-title">üìç ${cond}</div><ul>`;
          ["Victoria","Empate","Derrota"].forEach(tipo => {
            const cantidad = bucket[tipo];
            if (cantidad > 0) {
              const icono = tipo==="Victoria"?"‚úÖ":tipo==="Empate"?"ü§ù":"‚ùå";
              bloque += `
                <li>
                  <label>
                    <input type="checkbox" class="chkPartidos" data-comp="${comp}" data-cond="${cond}" data-sit="${tipo}" data-tecnico="${nombreTecnico}">
                    ${icono} ${tipo}s: ${cantidad}
                  </label>
                  <div class="partidos-lista" style="display:none; margin-left:20px;"></div>
                </li>
              `;
            }
          });
          bloque += "</ul>";
          compHTML += bloque;
          if (idx < CONDICIONES.length - 1) compHTML += `<div class="hr"></div>`;
        });
        if (compHTML) {
          html += `
            <div class="stat-group">
              <div class="stat-title">üèÜ ${comp}</div>
              ${compHTML}
            </div>
          `;
        }
      }
      return html || "<p>Sin datos disponibles</p>";
    }

    document.addEventListener("change", function(e) {
      if (!e.target.classList.contains("chkPartidos")) return;
      const contenedor = e.target.closest("li").querySelector(".partidos-lista");
      contenedor.innerHTML = "";
      if (e.target.checked) {
        const { comp, cond, sit, tecnico } = e.target.dataset;
        const partidos = encuentros.filter(p =>
          norm(p.T√©cnico) === norm(tecnico) &&
          bucketCompetencia(p.Torneo) === comp &&
          cap(norm(p.Condici√≥n)) === cond &&
          cap(norm(p.Situaci√≥n)) === sit
        );
        if (partidos.length) {
          partidos.forEach(p => {
            let bloqueHTML = "";
            if ((p.Condici√≥n || "").toLowerCase() === "visitante") {
              bloqueHTML = `
                <div class="partido-card">
                  ${getTorneoImage(p.Torneo)}
                  <div class="resultado-con-escudo">
                    <img class="escudo-rival" src="${getEscudo(p.Club)}" alt="${p.Club}" />
                    <div class="resultado2-box">${p.Resultado2}</div>
                    <div class="resultado1-box">${p.Resultado1}</div>
                    <img class="escudo-huracan" src="${getEscudo('Hurac√°n')}" alt="Hurac√°n">
                  </div>
                  <div><b>${p.Torneo}</b></div>
                  <div><b>Estadio:</b> ${p.Estadio} - <b>√Årbitro:</b> ${p.√Årbitro}</div>
                  <div>${ p.Estadio && getEstadioImage(p.Estadio) ? `<img src="${getEstadioImage(p.Estadio)}" style="max-height:40px;">` : "" }</div>
                  <div><b>${p.Club}:</b> ${p.Rival}</div>
                  <div><b>Hurac√°n:</b> ${p.Hurac√°n}</div>
                  ${ p.Foto ? `<div style="margin:6px 0;"><img src="${p.Foto}" alt="Incidencias" style="max-width:250px;border-radius:8px;"></div>` : "" }
                  <div>${renderIncidencias(p.Incidencias)}</div>
                  </div>
              `;
            } else {
              bloqueHTML = `
                <div class="partido-card">
                  ${getTorneoImage(p.Torneo)}
                  <div class="resultado-con-escudo">
                    <img class="escudo-huracan" src="${getEscudo('Hurac√°n')}" alt="Hurac√°n">
                    <div class="resultado1-box">${p.Resultado1}</div>
                    <div class="resultado2-box">${p.Resultado2}</div>
                    <img class="escudo-rival" src="${getEscudo(p.Club)}" alt="${p.Club}" />
                  </div>
                  <div><b>${p.Torneo}</b></div>
                  <div><b>Estadio:</b> ${p.Estadio} - <b>√Årbitro:</b> ${p.√Årbitro}</div>
                  <div>${ p.Estadio && getEstadioImage(p.Estadio) ? `<img src="${getEstadioImage(p.Estadio)}" style="max-height:40px;">` : "" }</div>
                  <div><b>Hurac√°n:</b> ${p.Hurac√°n}</div>
                  <div><b>${p.Club}:</b> ${p.Rival}</div>
                  ${ p.Foto ? `<div style="margin:6px 0;"><img src="${p.Foto}" alt="Incidencias" style="max-width:250px;border-radius:8px;"></div>` : "" }
                  <div>${renderIncidencias(p.Incidencias)}</div>
                  </div>
              `;
            }

            contenedor.innerHTML += `
              <div class="acordeon">
                <div class="acordeon-header">${p.Club} - ${p.Fecha}</div>
                <div class="acordeon-body cerrado">${bloqueHTML}</div>
              </div>
            `;
          });
        } else {
          contenedor.innerHTML = "<i>No hay partidos registrados</i>";
        }
        contenedor.style.display = "block";
      } else {
        contenedor.style.display = "none";
      }
    });

    document.addEventListener("click", function(e) {
      if (e.target.classList.contains("acordeon-header")) {
        const body = e.target.nextElementSibling;
        body.classList.toggle("cerrado");
        e.target.classList.toggle("abierto");
      }
    });

    function getEscudo(nombreClub) {
      if (!nombreClub) return "";
      try {
        return "https://globopedia.github.io/Artids/escudos/" + encodeURIComponent(nombreClub.trim()) + ".png";
      } catch (err) {
        const fileName = nombreClub.normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/\./g, "").replace(/\s+/g, "") + ".png";
        return "https://globopedia.github.io/Artids/escudos/" + fileName;
      }
    }

    function renderIncidencias(texto) {
      if (!texto) return "";
      return texto
        .replace(/GOL/g, "<img src='https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgi3GyVjBR-e_IN4mWVAuZofChVOj763GApXwzanoEJDUTysF1K9gf3N5qBCoDJ-ahi8wRkrZ3FCbl0ovTEjXyjFjFEWYF1MZ7YvHrq0bD5eQ7GsJPOkpLSC-k4zpZ1CbnyKVtoYlb6JWXByKkd0VAHuN1hy8P9LBz2fhn5e3Um_X-m4U9WLo9pQP428Fj4/s320/GolR.png' style='width:20px;height:20px;'>")
        .replace(/EXP/g, "<img src='https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgx8a6PCkGhKR9WTnh2NNWLMBDOIKWsNisSChpxN2NayjM5Z6YBIZmv52PvduZawIBBh_g5Pq56LdvjG8X1gSCud2q6NYS_NGOh7nAPaxUy_nC1YCcZJOgy2DeTZPRkqRgb1_HbpJshh-7o3MoW8Z3h8tBa8UZ153n5CzriOyvsSIxM6FsCbn-n115KC5Ln/s320/Roja.png' style='width:20px;height:20px;'>")
        .replace(/ATA/g, "<img src='https://blogger.googleusercontent.com/img/a/AVvXsEjygOwijhQ1dRIh6BPFrQu7EKOUShS0RLEVmPhCJSANGWOaNzvVmcbV03ZW0ZF5Npefl5r3P8iU6WjXRaSL80QYazspsJ4-nzA8pv4FqBwgu1Jr0wDw2iEPMvnVgK0nvRLeZmGYuVW8epSVTyyND28aoQRd9wD9yxKJWBuPOhOoVz-cUgpbM702W2ZlpsF7=w95-h79' style='width:20px;height:20px;'>")
        .replace(/PEN/g, "<img src='https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEho-erXGKkNZ7MaZWOtZw-ru0AnJwAlzHqnl5fKLmUAn_QtAMAbXgGMsqh21htJ2XSePyqAMAq4Xce1RkwkrqrA4Hw312mYcXhXMVW-m64vRS_lKTNgnBNvCzPZsPV3eEk_QclWiNZ9n9pvAQSiscTyp94vbN_h6aMeQ_nwTdBSdXGn5B3HW3A-sj_4Bw1j/s320/Penales.png' style='width:20px;height:20px;'>");
    }

    function getEstadioImage(estadio) {
      if (!estadio) return "";
      const fileName = estadio.normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/\./g, "").replace(/\s+/g, "") + ".png";
      return "https://globopedia.github.io/Artids/Estadios/" + fileName;
    }

    function getTorneoImage(nombreTorneo) {
      if (!nombreTorneo) return "";
      const texto = nombreTorneo.toLowerCase();
      const torneosDisponibles = [
        "Apertura 2007", "Clausura 2008", "Apertura 2008", "Clausura 2009",
        "Apertura 2009", "Clausura 2010", "Apertura 2010", "Clausura 2011",
        "Nacional B 11-12", "Copa Argentina 2012","Copa Argentina 2013","Copa Argentina 2014",
        "Copa Argentina 2015","Copa Argentina 2016","Copa Argentina 2017","Copa Argentina 2018",
        "Copa Argentina 2019","Copa Argentina 2020","Copa Argentina 2022","Copa Argentina 2023",
        "Copa Argentina 2024","Copa Argentina 2025", "Nacional B 12-13", "Nacional B 13-14",
        "Nacional B 2014", "Supercopa 2015", "Campeonato 2015", "Libertadores 2015",
        "Sudamericana 2015", "Campeonato 2016", "Libertadores 2016", "Campeonato 16-17",
        "Sudamericana 2017", "SAF 17-18", "SAF 18-19", "SAF 19-20", "Copa Maradona 2020",
        "Libertadores 2019", "Sudamericana 2020", "Torneo-LPF 2021", "Torneo-LPF 2022", "Torneo-LPF 2023",
        "Copa-LPF 2021", "Copa-LPF 2022", "Copa-LPF 2023", "Copa-LPF 2024", "Torneo-LPF 2024",
        "Apertura-LPF 2025", "Clausura-LPF 2025", "Libertadores 2023", "Sudamericana 2023", "Sudamericana 2025"
      ];
      for (const t of torneosDisponibles) {
        if (texto.includes(t.toLowerCase())) {
          return `<img src="https://globopedia.github.io/Artids/Torneos/${encodeURIComponent(t)}.png" style="max-height:40px; display:block; margin:4px auto;">`;
        }
      }
      return "";
    }

function InvertirNombre(nombre) {
  const partes = nombre.trim().split(" ");
  if (partes.length < 2) return nombre;

  if (partes.length === 2) {
    // Caso simple: Nombre + Apellido
    const [nombre1, apellido] = partes;
    return apellido + ", " + nombre1;
  }

  // Lista de conectores/apellidos compuestos en min√∫scula
  const conectores = ["de", "del", "de la", "de los", "la", "las", "los", "san", "santa"];

  // Unir las √∫ltimas palabras y ver si forman parte de un apellido compuesto
  let i = partes.length - 1;
  let apellido = partes[i];
  while (i > 0) {
    const posible = partes[i - 1].toLowerCase();
    if (conectores.includes(posible)) {
      apellido = partes[i - 1] + " " + apellido;
      i--;
    } else {
      break;
    }
  }

  const nombres = partes.slice(0, i).join(" ");
  return apellido + ", " + nombres;
}
  </script>
</body>
</html>
